## 도메인 모델 (개념 관점)

다음의 과정을 거쳐 도메인 모델을 추출해보자!

1. 개발에 들어가기 전 도메인을 구성하는 요소들에 대해 먼저 고민한다. => 필요한 객체를 뽑는다.
2. 동적인 객체들을 정적인 타입으로 추상화 하여 타입을 추출한다. => 분류(타입 추출)
3. 타입 간에 존재하는 관계를 파악하고 표현한다. => 포함 관계, 연관관계 표현

### 필요한 객체를 뽑는다 (도메인 요소 식별)

테트리스 게임에 필요한 주요 객체들을 도출

- `게임(Game)`: 전체 게임의 흐름을 관리하는 객체. 시작, 일시정지, 종료 등의 게임 상태를 관리.
- `화면관리자(ScreenManager)`: 게임 화면을 이동하는 기능을 제 (`Game`, `MainScreen`, `SettingScreen`, `ScoreBoardScreen`)
- `메인 화면(MainScreen)`: 게임 시작 전 보여주는 화면, 게임 시작, 설정, 점수판 등의 기능 제공.
- `게임 보드(Board)`: 게임이 진행되는 공간. 블록들이 배치되고 이동되는 영역.
- `블록(Block)`: 테트리스의 기본 단위로 다양한 모양(I, O, T, L, J, S, Z)이 존재하며, 회전하거나 이동할 수 있음.
- `줄(Line)`: 보드의 한 줄을 의미하며, 블록으로 가득 차면 제거됨.
- `게임 설정 화면(SettingScreen)`: 게임 설정을 변경할 수 있는 화면 제공
- `게임 설정(GameSettings)`: 게임의 보드 크기(S, M, L)를 설정할 수 있는 메뉴.
- `점수판(ScoreBoardScreen)`: 유저의 점수를 기록하고 상위 10개의 점수를 보여주는 기능.
- `점수(Score)`: 라인 제거 시 추가되는 점수와 이를 기반으로 계산된 최종 점수.
- `타이머(Timer)`: 블록이 떨어지는 주기를 조절하는 역할을 담당.
- `이벤트 핸들러(EventHandler)`: 블록의 이동, 회전, 게임 종료, 일시정지 등 유저의 명령을 처리하는 역할.
- `유저(User)`: 게임을 플레이하는 사람, 닉네임을 입력하고 점수를 기록.

### 타입 추출(추상화)

도출한 객체들을 추상화하여 정적인 타입으로 분류해보면 다음과 같이 나눌 수 있다.

- `ScreenManager`:
    - 게임 중 화면의 이동을 담당하는 타입
- `Game`:
    - 게임의 상태를 관리하는 추상화된 타입.
- `MainScreen`:
    - 유저가 선택할 수 있는 메뉴 화면을 나타내는 타입. '게임 시작', '게임 설정', '점수판', '게임 종료' 등의 하위 기능을 포함.
- `Board`:
    - 게임 보드 자체를 나타내는 타입. 크기(S, M, L)를 설정할 수 있으며, 블록을 배치하고 라인을 관리.
- `Block`:
    - 다양한 모양을 가진 블록을 나타내는 타입. 회전, 이동 등의 동작을 처리.
    - 서브 타입: IBlock, OBlock, TBlock, LBlock, JBlock, SBlock, ZBlock (다양한 블록 형태로 세분화 가능)
- `Line`:
    - 게임 보드의 가로줄을 나타내는 타입. 블록으로 가득 찬 경우 제거되는 역할을 수행.
- `ScoreBoardScreen`:
    - 유저의 점수를 저장하고 상위 10개의 기록을 보여주는 화면을 나타내는 타입.
- `SettingScreen`:
    - 게임 설정을 조정할 수 있는 화면을 나타내는 타입.
- `GameSettings`:
    - 게임의 보드 크기와 같은 설정을 관리하는 타입.
- `User`:
    - 게임을 플레이하는 유저 타입. 닉네임과 점수를 저장.
- `Score`:
    - 라인이 제거될 때마다 추가되는 점수를 관리하는 타입.
- `ScoreDao`:
    - 점수를 데이터베이스에 저장하는 기능을 제공하는 타입
- `Timer`:
    - 블록이 떨어지는 주기를 조절하는 타입. 타이머에 따라 블록 이동이 이루어짐.
- `EventHandler`:
    - 유저의 입력을 처리하는 타입. 블록의 이동, 회전, 게임 종료 등 이벤트 처리 담당.

### 타입 간의 관계 표현(포함 관계, 연관 관계)

- `ScreenManager`
    - 포함 관계: `Game`, `MainScreen`, `SettingScreen`, `ScoreBoardScreen`
- `Game`
    - 포함 관계: `Board`, `Score`, `Timer`, `EventHandler`
    - 연관 관계: `User` (게임을 플레이하는 유저), `ScreenManager`
- `MainScreen`
    - 연관 관계: `ScreenManager`
- `Board`
    - 포함 관계: `Block[]` (다수의 블록), `Line[]` (보드의 가로줄)
    - 연관 관계: `GameSettings` (보드 크기 설정)
- `Block`
    - 연관 관계: `Board` (보드 위에 배치됨)
- `Line`
    - 포함 관계: `Block[]` (가로줄에 배치된 블록)
    - 연관 관계: `Board` (라인이 보드 위에 존재)
- `ScoreBoardScreen`
    - 포함 관계: `ScoreDao`, `Score[]` (다수의 점수 기록)
    - 연관 관계: `User` (각 점수에 대응하는 유저), `ScreenManager`
- `SettingScreen`
    - 포함 관계: `GameSettings`,
    - 연관 관계: `ScreenManager`
- `GameSettings`
- `User`
    - 포함 관계: `Score`
    - 연관 관계: `ScoreBoardScreen` (점수를 기록)
- `Score`
    - 연관 관계: `Line` (라인 제거 시 점수가 추가)
- `ScoreDao`
- `Timer`
    - 연관 관계: `Block` (시간에 따라 블록 이동)
- `EventHandler`
    - 연관 관계: `Block` (블록 이동/회전 등 명령 처리), `Game` (게임 상태 변경)